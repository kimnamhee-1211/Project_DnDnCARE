<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link href="css/moreWorkInfo.css" rel="stylesheet" type="text/css"/>
	<title>일감 찾기 상세페이지</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <link th:href="@{css/footer.css}" rel="stylesheet" type="text/css"/>
    <style>
    	.searchAreaBtn {width: 82px;}
    	.searchDisBtn {width:100px;}
    	.searchWalkBtn {width:100px;}
    	.searchTermBtn {width: 90px;}
    	.subAreaBtn {width: 82px;}
    	.subDisBtn {width:100px;}
    	.subWalkBtn {width:100px;}
    	.subCostBtn {width:110px;}
    	.subTermBtn {width: 90px;}
    </style>
</head>
<body class="baseFont">
	<div th:replace="~{common/navbar :: navbar}"></div>
	
	<div style="height:70px"></div>
	<div id="contents">
		<div><!-- 왼쪽 공백 --></div>
		<div><!-- 컨텐츠 --> 
			<div class="d-flex justify-content-between">
				<span class="badge bg-color" style="font-size: 24px;">AI가 추천하는 일감이에요!</span>
				<span class="btn-outline" id="refreshChoice" style="font-size: 16px;">새 추천 받기</span>
			</div>
			
			<br/>
			
			<div id="upperContents"><!-- 자동매칭 -->
				<table class="table table-hover autoMatching" style="border-right: 3px solid #1E5F74;">
                	<thead>
                    	<tr class="text-center">
                        	<th>성함</th>
                        	<th>성별</th>
                        	<th>나이</th>
                        	<th>지역</th>
                        	<th>질환</th>
                        	<th>돌봄비</th>
                     	</tr>
                 	</thead>
                 	<tbody>
                 		<th:block th:if="${completeList}">
                 			<th:block th:each="l, lStat : ${completeList}" th:if="${lStat.index < 5 && (l.ptCount == 1 || l.groupLeader == 'Y')}">
		                    	<tr class="text-center">
			                         <td>
			                         	<input type="hidden" th:value="${l.matNo}"/>
			                         	[[${l.ptName}]]
			                         </td>
			                         <td>[[${l.ptGender == 'M' ? '남' : '여'}]]</td>
			                         <td>[[${l.ptRealAge < 0 ? l.ptRealAge+100 : l.ptRealAge}]]세</td>
			                         <td>[[${l.ptAddress}]]</td>
			                         <td>
			                         	<th:block th:if="${l.ptDisease != null}">
			                         		[[${#strings.arraySplit(l.ptDisease, '/')[0]}]]
			                         	</th:block>
			                         	<th:block th:if="${l.ptDisease == null}">-</th:block>
		                         	</td>
			                         <td>[[${#numbers.formatInteger(l.money, 0, 'COMMA')}]]원</td>
		                    	 </tr>
		                    	 <th:block th:with="check = ${5 - lStat.count}"></th:block>
                    	 </th:block>
                    	 
                    	 <th:block th:if="${completeList == null}">
                   	 		<tr class="text-center">
                   	 			<td>서비스 장애가 발생하였습니다. 잠시 후 다시 시도해주세요.</td>
                   	 		</tr>
                    	 </th:block>
                 	</tbody>
             	</table>
				
				<table class="table table-hover autoMatching" >
                	<thead>
                    	<tr class="text-center">
                        	<th>성함</th>
                        	<th>성별</th>
                        	<th>나이</th>
                        	<th>지역</th>
                        	<th>질환</th>
                        	<th>돌봄비</th>
                     	</tr>
                 	</thead>
                 	<tbody>
                 		<th:block th:if="${completeList}">
	                    	<tr class="text-center" th:each="l, lStat : ${completeList}" th:if="${lStat.index >= 5 && (l.ptCount == 1 || l.groupLeader == 'Y')}" >
		                         <td>
		                         	<input type="hidden" th:value="${l.matNo}"/>
		                         	[[${l.ptName}]]
		                         </td>
		                         <td>[[${l.ptGender == 'M' ? '남' : '여'}]]</td>
		                         <td>[[${l.ptRealAge < 0 ? l.ptRealAge+100 : l.ptRealAge}]]세</td>
		                         <td>[[${l.ptAddress}]]</td>
		                         <td>
		                         	<th:block th:if="${l.ptDisease != null}">
		                         		[[${#strings.arraySplit(l.ptDisease, '/')[0]}]]
		                         	</th:block>
		                         	<th:block th:if="${l.ptDisease == null}">-</th:block>
	                         	</td>
		                         <td>[[${#numbers.formatInteger(l.money, 0, 'COMMA')}]]원</td>
	                    	 </tr>
                    	 </th:block>
                    	 
                    	 <th:block th:if="${completeList.size() < 10}" th:each="num : ${#numbers.sequence(1, 10-completeList.size())}">
                    	 	<tr>
                    	 		<td></td><td></td><td></td><td></td><td></td><td></td>
                    	 	</tr>
                    	 </th:block>
                    	 
                    	 
                    	 
                    	 <th:block th:if="${completeList == null}">
                   	 		<tr class="text-center">
                   	 			<td>서비스 장애가 발생하였습니다. 잠시 후 다시 시도해주세요.</td>
                   	 		</tr>
                    	 </th:block>
                 	</tbody>
             	</table>
			</div>
			
			<br/>
			
			<div id="lowerContents"><!-- 검색목록 -->
				<div style="position: sticky; top: 0px; z-index: 10; background:white; margin-bottom:24px;" >
					<div id="lowerContentsTitle">
						<div><span class="badge bg-color" style="font-size: 25px;">간병일감 목록</span></div>
						<div class="text-end">
							<button type="button" class="btn-outline" id="goClear">검색조건 초기화하기</button>
							<button type="button" class="btn-outline goSearch">검색하기</button>
						</div>
					</div>
					<br/>
					<div id="tagBtnDiv" class="d-flex justify-content-start"> <!-- 각 태그의 value값이 ON/OFF인지에 따라서 어떤 검색조건을 선택하였는지 확인가능함 -->
						<div>
							<button type="button" class="btn btn-light mainBtn" id="allTagBtn">태그 전체</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="serviceChoice" value="OFF">서비스유형</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="shareChoice" value="OFF">공동 유형</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="areaChoice">지역</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="genderChoice" value="OFF">성별</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="ageChoice" value="OFF">연령</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="diseaseChoice">질환</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="levelChoice" value="OFF">중증도</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="walkChoice" value="OFF">거동여부</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="costChoice">돌봄비</button>
						</div>
						<div>
							<button type="button" class="btn btn-light mainBtn" id="termChoice">간병기간</button>
						</div>
					</div>
					<div id="subBtnDiv"> <!-- 세부 버튼들 놓을 공간 -->
						<!-- 서비스 유형에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subServiceBtn" style="display:none;">병원돌봄</button>
						<button type="button" class="btn btn-light subBtn subServiceBtn" style="display:none;">가정돌봄</button>
						<!-- <button type="button" class="btn btn-light subBtn subServiceBtn" style="display:none;">동행서비스</button> -->
						<!-- 성별 유형에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subShareBtn" style="display:none;">개인</button>
						<button type="button" class="btn btn-light subBtn subShareBtn" style="display:none;">공동</button>
						<!-- 지역에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">전국</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">서울</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">부산</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">대구</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">인천</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">광주</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">대전</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">울산</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">경기도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">강원도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">충청북도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">충청남도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">전라북도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">전라남도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">경상북도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">경상남도</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">제주</button>
		    			<button type="button" class="btn btn-light subBtn subAreaBtn" style="display:none;">세종</button>
						<!-- 성별에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subGenderBtn" style="display:none;">남성</button>
						<button type="button" class="btn btn-light subBtn subGenderBtn" style="display:none;">여성</button>
						<!-- 연령에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subAgeBtn" style="display:none;">청년</button>
						<button type="button" class="btn btn-light subBtn subAgeBtn" style="display:none;">중년</button>
						<button type="button" class="btn btn-light subBtn subAgeBtn" style="display:none;">장년</button>
						<!-- 질병에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">치매</button>
						<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">섬망</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">욕창</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">하반신 마비</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">전신 마비</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">와상환자</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">기저귀 케어</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">의식 없음</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">석션</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">피딩</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">소변줄</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">장루</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">투석</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">전염성 질환</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">파킨슨</button>
		    			<button type="button" class="btn btn-light subBtn subDisBtn" style="display:none;">정신질환</button>
						<!-- 중증도에 대한 세부 버튼 -->
						<button type="button" class="btn btn-light subBtn subLevelBtn" style="display:none;">경증</button>
		    			<button type="button" class="btn btn-light subBtn subLevelBtn" style="display:none;">중등중</button>
		    			<button type="button" class="btn btn-light subBtn subLevelBtn" style="display:none;">중증</button>
		    			<!-- 거동여부에 대한 세부 버튼 -->
		    			<button type="button" class="btn btn-light subBtn subWalkBtn" style="display:none;">거동가능</button>
		    			<button type="button" class="btn btn-light subBtn subWalkBtn" style="display:none;">거동불가능</button>
		    			<!-- 비용에 대한 세부 버튼 -->
		    			<button type="button" class="btn btn-light subBtn subCostBtn" style="display:none;">~30,000원</button>
		    			<button type="button" class="btn btn-light subBtn subCostBtn" style="display:none;">~50,000원</button>
		    			<button type="button" class="btn btn-light subBtn subCostBtn" style="display:none;">~80,000원</button>
						<button type="button" class="btn btn-light subBtn subCostBtn" style="display:none;">~100,000원</button>
		    			<!-- 간병기간에 대한 세부 버튼 -->
		    			<button type="button" class="btn btn-light subBtn subTermBtn" style="display:none;">1일 미만</button>
		    			<button type="button" class="btn btn-light subBtn subTermBtn" style="display:none;">7일 미만</button>
		    			<button type="button" class="btn btn-light subBtn subTermBtn" style="display:none;">15일 미만</button>
						<button type="button" class="btn btn-light subBtn subTermBtn" style="display:none;">15일 이상</button>
					</div>
				</div>
				
				<div class="row row-cols-md-4 g-2" id="root">
	                <!-- 간병 일감목록을 무한스크롤로 출력할 공간 -->
	            </div>
			</div>
		<div><!-- 오른쪽 공백 --></div>
		</div>
	</div>
	
	<!-- <div th:replace="~{common/footer :: footer}"></div> -->
	
	<!-- 태그 전체를 취사선택할 수 있는 모달창 -->
	<div class="modal" tabindex="-1" id="allTagModal">
		<div class="modal-dialog">
			<div class="modal-content">
		   		<div class="modal-header">
		    		<div class="modal-title">
		    			<div><span class="badge bg-color2" style="font-size: 20px;">태그 전체</span></div>
		    		</div>
		    		<!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
		   		</div>
		    	<div class="modal-body" id="searchBtnDiv">
		    		<form id="searchForm" action="searchPatientList.me" method="post">
		    			<div><span class="badge bg-warning2 fs-6">서비스 유형</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchServiceBtn" name="service" value="병원돌봄/OFF">병원돌봄</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchServiceBtn" name="service" value="가정돌봄/OFF">가정돌봄</button>&nbsp;&nbsp;
		    			<!-- <button type="button" class="btn btn-light searchBtn searchServiceBtn" name="service" value="동행서비스/OFF">동행서비스</button> -->
		    			 
		    			<br/><br/>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">공동간병 유형</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchShareBtn" name="share" value="personal/OFF">개인간병</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchShareBtn" name="share" value="share/OFF">공동간병</button>
		    			
		    			<br/><br/>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">지역 선택</span> <span class="badge rounded-pill bg-danger fs-6">단일선택</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="전국/OFF">전국</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="서울/OFF">서울</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="부산/OFF">부산</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="대구/OFF">대구</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="인천/OFF">인천</button>&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="광주/OFF">광주</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="대전/OFF">대전</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="울산/OFF">울산</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="경기도/OFF">경기도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="강원도/OFF">강원도</button>&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="충청북도/OFF">충청북도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="충청남도/OFF">충청남도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="전라북도/OFF">전라북도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="전라남도/OFF">전라남도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="경상북도/OFF">경상북도</button>&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="경상남도/OFF">경상남도</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="제주/OFF">제주</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAreaBtn" name="area" value="세종/OFF">세종</button>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">성별 선택</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchGenderBtn" name="gender" value="남성/OFF">남성</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchGenderBtn" name="gender" value="여성/OFF">여성</button>
		    			
		    			<br/><br/>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">연령 선택</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchAgeBtn" name="age" value="청년/OFF">청년</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAgeBtn" name="age" value="중년/OFF">중년</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchAgeBtn" name="age" value="장년/OFF">장년</button>
		    			
		    			<br/><br/>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">질환 선택</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="치매/OFF">치매</button>
						<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="섬망/OFF">섬망</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="욕창/OFF">욕창</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="하반신 마비/OFF">하반신 마비</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="전신 마비/OFF">전신 마비</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="와상환자/OFF">와상환자</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="기저귀 케어/OFF">기저귀 케어</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="의식 없음/OFF">의식 없음</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="석션/OFF">석션</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="피딩/OFF">피딩</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="소변줄/OFF">소변줄</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="장루/OFF">장루</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="투석/OFF">투석</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="전염성 질환/OFF">전염성 질환</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="파킨슨/OFF">파킨슨</button>
		    			<button type="button" class="btn btn-light searchBtn searchDisBtn" name="disease" value="정신질환/OFF">정신질환</button>
					
						<br/><br/>
		    			
		    			<div><span class="badge rounded-pill bg-warning2 fs-6">중증도 선택</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchLevelBtn" name="level" value="경증/OFF">경증</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchLevelBtn" name="level" value="중등중/OFF">중등중</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchLevelBtn" name="level" value="중증/OFF">중증</button>&nbsp;&nbsp;

						<br/><br/>
	
						<div><span class="badge rounded-pill bg-warning2 fs-6">거동여부 선택</span> <span class="badge rounded-pill bg-info2 fs-6">복수선택 가능</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchWalkBtn" name="walk" value="거동 가능/OFF">거동 가능</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchWalkBtn" name="walk" value="거동 불가능/OFF">거동 불가능</button>&nbsp;&nbsp;
		
						<br/><br/>
	
						<div><span class="badge rounded-pill bg-warning2 fs-6">돌봄비 선택</span> <span class="badge rounded-pill bg-danger fs-6">단일선택</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchCostBtn" name="cost" value="3/OFF">~30,000원</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchCostBtn" name="cost" value="5/OFF">~50,000원</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchCostBtn" name="cost" value="8/OFF">~80,000원</button>&nbsp;&nbsp;
						<button type="button" class="btn btn-light searchBtn searchCostBtn" name="cost" value="10/OFF">~100,000원</button>
						
						<br/><br/>
						
						<div><span class="badge rounded-pill bg-warning2 fs-6">간병기간 선택</span> <span class="badge rounded-pill bg-danger fs-6">단일선택</span></div><br/>
		    			<button type="button" class="btn btn-light searchBtn searchTermBtn" name="term" value="1/OFF">1일 미만</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchTermBtn" name="term" value="7/OFF">7일 미만</button>&nbsp;&nbsp;
		    			<button type="button" class="btn btn-light searchBtn searchTermBtn" name="term" value="15/OFF">15일 미만</button>&nbsp;&nbsp;
						<button type="button" class="btn btn-light searchBtn searchTermBtn" name="term" value="장기/OFF">15일 이상</button>
		    			
		    		</form>
		    	</div>
		    	<div class="modal-footer">
	    			<button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="width:200px;">닫기</button>
	    			<button type="button" class="btn-outline-maincolor goSearch" style="width:200px;">검색하기</button>
		    	</div>
		  	</div>
		</div>
	</div>
	
	<br/><br/><br/><br/>
	<div class="chatFixedBtn" th:replace="~{common/chatFixedBtn.html :: chatFixedBtn}"></div>
    <div class="matFixedBtn" th:replace="~{common/matFixedBtn :: matFixedBtn}"></div>
    <th:block th:replace="~{common/footer :: footer}"></th:block>
    <div id="obsTarget" style="height:10px;"></div> 
	
	
	
	
	<script th:inline="javascript">
		window.onload = () => {
			// 일감목록의 태그 버튼 클릭시 하위 버튼을 보여주는 기능 (시작)
			const allSubBtnList = document.querySelectorAll('.subBtn');	// 임의의 세부 태그 버튼
			const allSearchBtnList = document.querySelectorAll('.searchBtn');
			const allMainBtnList = document.querySelectorAll('.mainBtn'); // 임의의 주요 태그 버튼
			
			// == 서비스 유형 선택 ==
			const subServiceBtnList = document.querySelectorAll('.subServiceBtn'); // 서비스 유형에 대한 세부 태그버튼
			document.querySelector('#serviceChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subServiceBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subServiceBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			// == 공동 간병 여부 ==
			const subShareBtnList = document.querySelectorAll('.subShareBtn');// 공동 간병에 대한 세부 태그버튼	
			document.querySelector('#shareChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subShareBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subShareBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			// == 지역 선택 ==
			const subAreaBtnList = document.querySelectorAll('.subAreaBtn');
			document.querySelector('#areaChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subAreaBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subAreaBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			
			// == 성별 버튼 ==
			const subGenderBtnList = document.querySelectorAll('.subGenderBtn');	
			document.querySelector('#genderChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subGenderBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subGenderBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			// == 연령 버튼 == 
			const subAgeBtnList = document.querySelectorAll('.subAgeBtn');
			document.querySelector('#ageChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subAgeBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subAgeBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			// == 질환 버튼 ==
			const subDisBtnList = document.querySelectorAll('.subDisBtn');
			document.querySelector('#diseaseChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subDisBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subDisBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			
			// == 중증도 ==
			const subLevelBtnList = document.querySelectorAll('.subLevelBtn');
			document.querySelector('#levelChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subLevelBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subLevelBtnList) {
						s.style.display = 'none';
					}
				}
			})	
			
			// == 거동 버튼 ==
			const subWalkBtnList = document.querySelectorAll('.subWalkBtn');
			document.querySelector('#walkChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subWalkBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subWalkBtnList) {
						s.style.display = 'none';
					}
				}
			})	
			
			// == 비용 버튼 == 
			const subCostBtnList = document.querySelectorAll('.subCostBtn');
			document.querySelector('#costChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subCostBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subCostBtnList) {
						s.style.display = 'none';
					}
				}
			})
			
			// == 간병 기간 ==
			const subTermBtnList = document.querySelectorAll('.subTermBtn');
			document.querySelector('#termChoice').addEventListener('click', function() {
				if(this.className.includes('btn-light')) {
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let a of allSubBtnList) {
						a.style.display = 'none';
					}
					
					this.classList.remove('btn-light');
					this.classList.add('btn-success');
					
					for(let s of subTermBtnList) {
						s.style.display = 'inline';
					}
				} else {
					this.classList.remove('btn-success');
					this.classList.add('btn-light');
					
					for(let m of allMainBtnList) {
						if(m != this && m.className.includes('btn-success')) {
							m.classList.remove('btn-success');
							m.classList.add('btn-light');
						}
					}
					
					for(let s of subTermBtnList) {
						s.style.display = 'none';
					}
				}
			});
			// 일감목록의 태그 버튼 클릭시 하위 버튼을 보여주는 기능 (끝)
			
			
			// 클릭 이벤트 상호작용 : 대표태그의 하위 버튼 <-> 검색조건의 하위 버튼 (시작)
			// == 서비스 유형의 하위 버튼 ==
			const searchServiceBtnList = document.querySelectorAll('.searchServiceBtn');
			for(let i = 0; i< subServiceBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subServiceBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchServiceBtnList[i].classList.remove('btn-light');					
						searchServiceBtnList[i].classList.add('btn-success');
						searchServiceBtnList[i].value = searchServiceBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchServiceBtnList[i].classList.remove('btn-success');					
						searchServiceBtnList[i].classList.add('btn-light');
						searchServiceBtnList[i].value = searchServiceBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchServiceBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subServiceBtnList[i].classList.remove('btn-light');					
						subServiceBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subServiceBtnList[i].classList.remove('btn-success');					
						subServiceBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 공동 유형의 하위 버튼 ==
			const searchShareBtnList = document.querySelectorAll('.searchShareBtn');
			for(let i = 0; i< subShareBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼 
				subShareBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchShareBtnList[i].classList.remove('btn-light');					
						searchShareBtnList[i].classList.add('btn-success');
						searchShareBtnList[i].value = searchShareBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchShareBtnList[i].classList.remove('btn-success');					
						searchShareBtnList[i].classList.add('btn-light');
						searchShareBtnList[i].value = searchShareBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchShareBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subShareBtnList[i].classList.remove('btn-light');					
						subShareBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subShareBtnList[i].classList.remove('btn-success');					
						subShareBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 지역 유형의 하위 버튼 ==
			const searchAreaBtnList = document.querySelectorAll('.searchAreaBtn');
			for(let i = 0; i< subAreaBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subAreaBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subAreaBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchAreaBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchAreaBtnList[i].classList.remove('btn-light');					
						searchAreaBtnList[i].classList.add('btn-success');
						searchAreaBtnList[i].value = searchAreaBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchAreaBtnList[i].classList.remove('btn-success');					
						searchAreaBtnList[i].classList.add('btn-light');
						searchAreaBtnList[i].value = searchAreaBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchAreaBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subAreaBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchAreaBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subAreaBtnList[i].classList.remove('btn-light');					
						subAreaBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subAreaBtnList[i].classList.remove('btn-success');					
						subAreaBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 성별 유형의 하위 버튼 == 
			const searchGenderBtnList = document.querySelectorAll('.searchGenderBtn');
			for(let i = 0; i< subGenderBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subGenderBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchGenderBtnList[i].classList.remove('btn-light');					
						searchGenderBtnList[i].classList.add('btn-success');
						searchGenderBtnList[i].value = searchGenderBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchGenderBtnList[i].classList.remove('btn-success');					
						searchGenderBtnList[i].classList.add('btn-light');
						searchGenderBtnList[i].value = searchGenderBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchGenderBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subGenderBtnList[i].classList.remove('btn-light');					
						subGenderBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subGenderBtnList[i].classList.remove('btn-success');					
						subGenderBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}	
			// == 연령 유형의 하위 버튼 ==
			const searchAgeBtnList = document.querySelectorAll('.searchAgeBtn');
			for(let i = 0; i< subAgeBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subAgeBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchAgeBtnList[i].classList.remove('btn-light');					
						searchAgeBtnList[i].classList.add('btn-success');
						searchAgeBtnList[i].value = searchAgeBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchAgeBtnList[i].classList.remove('btn-success');					
						searchAgeBtnList[i].classList.add('btn-light');
						searchAgeBtnList[i].value = searchAgeBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchAgeBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subAgeBtnList[i].classList.remove('btn-light');					
						subAgeBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subAgeBtnList[i].classList.remove('btn-success');					
						subAgeBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 질환 유형의 하위 버튼 ==
			const searchDisBtnList = document.querySelectorAll('.searchDisBtn');
			for(let i = 0; i< subDisBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subDisBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchDisBtnList[i].classList.remove('btn-light');					
						searchDisBtnList[i].classList.add('btn-success');
						searchDisBtnList[i].value = searchDisBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchDisBtnList[i].classList.remove('btn-success');					
						searchDisBtnList[i].classList.add('btn-light');
						searchDisBtnList[i].value = searchDisBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchDisBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subDisBtnList[i].classList.remove('btn-light');					
						subDisBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subDisBtnList[i].classList.remove('btn-success');					
						subDisBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 중증도 유형의 하위 버튼 ==
			const searchLevelBtnList = document.querySelectorAll('.searchLevelBtn');
			for(let i = 0; i< subLevelBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subLevelBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchLevelBtnList[i].classList.remove('btn-light');					
						searchLevelBtnList[i].classList.add('btn-success');
						searchLevelBtnList[i].value = searchLevelBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchLevelBtnList[i].classList.remove('btn-success');					
						searchLevelBtnList[i].classList.add('btn-light');
						searchLevelBtnList[i].value = searchLevelBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchLevelBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subLevelBtnList[i].classList.remove('btn-light');					
						subLevelBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subLevelBtnList[i].classList.remove('btn-success');					
						subLevelBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 거동 여부 유형의 하위 버튼 == 
			const searchWalkBtnList = document.querySelectorAll('.searchWalkBtn');
			for(let i = 0; i< subWalkBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subWalkBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchWalkBtnList[i].classList.remove('btn-light');					
						searchWalkBtnList[i].classList.add('btn-success');
						searchWalkBtnList[i].value = searchWalkBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchWalkBtnList[i].classList.remove('btn-success');					
						searchWalkBtnList[i].classList.add('btn-light');
						searchWalkBtnList[i].value = searchWalkBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchWalkBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subWalkBtnList[i].classList.remove('btn-light');					
						subWalkBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subWalkBtnList[i].classList.remove('btn-success');					
						subWalkBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// == 돌봄비 유형의 하위 버튼 ==	
			const searchCostBtnList = document.querySelectorAll('.searchCostBtn');
			for(let i = 0; i< subCostBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subCostBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subCostBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchCostBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchCostBtnList[i].classList.remove('btn-light');					
						searchCostBtnList[i].classList.add('btn-success');
						searchCostBtnList[i].value = searchCostBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchCostBtnList[i].classList.remove('btn-success');					
						searchCostBtnList[i].classList.add('btn-light');
						searchCostBtnList[i].value = searchCostBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchCostBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subCostBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchCostBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subCostBtnList[i].classList.remove('btn-light');					
						subCostBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subCostBtnList[i].classList.remove('btn-success');					
						subCostBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}	
			// == 간병기간 유형의 하위 버튼 ==
			const searchTermBtnList = document.querySelectorAll('.searchTermBtn');
			for(let i = 0; i< subTermBtnList.length; i++) {
				// 대표 태그의 하위 버튼을 클릭 => 검색 조건의 하위 버튼
				subTermBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subTermBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchTermBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						searchTermBtnList[i].classList.remove('btn-light');					
						searchTermBtnList[i].classList.add('btn-success');
						searchTermBtnList[i].value = searchTermBtnList[i].value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						searchTermBtnList[i].classList.remove('btn-success');					
						searchTermBtnList[i].classList.add('btn-light');
						searchTermBtnList[i].value = searchTermBtnList[i].value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
				// 검색 조건의 하위 버튼 => 대표 태그의 하위 버튼
				searchTermBtnList[i].addEventListener('click', function() {
					if(this.className.includes('btn-light')) {
						for(let sub of subTermBtnList) {
							sub.classList.remove('btn-success');					
							sub.classList.add('btn-light');
						}
						for(let search of searchTermBtnList) {
							search.classList.remove('btn-success');					
							search.classList.add('btn-light');
							search.value = search.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
						}
						this.classList.remove('btn-light');					
						this.classList.add('btn-success');
						subTermBtnList[i].classList.remove('btn-light');					
						subTermBtnList[i].classList.add('btn-success');
						this.value = this.value.split('/')[0] + '/ON'; // '서비스명/ON'
					} else if(this.className.includes('btn-success')) {
						this.classList.remove('btn-success');					
						this.classList.add('btn-light');
						subTermBtnList[i].classList.remove('btn-success');					
						subTermBtnList[i].classList.add('btn-light');
						this.value = this.value.split('/')[0] + '/OFF'; // '서비스명/OFF'
					}
				})
			}
			// 클릭 이벤트 상호작용 : 대표태그의 하위 버튼 <-> 검색조건의 하위 버튼 (끝)
			
			// 태그 조건으로 검색하기 (시작)
			const goSearchBtnList = document.querySelectorAll('.goSearch');
			let form = document.querySelector('#searchForm');
			const searchConditionObj = {}; // 검색조건을 모두 담을 객체 선언 및 초기화
			for(let go of goSearchBtnList) {
				go.addEventListener('click', e => {
					e.preventDefault(); // 기본 이벤트 제어
					let searchExist = false;
					// *** 검색 조건 저장하기 (시작) ***
					// == 서비스 검색 조건을 저장 ==
					let tempService = '';
					for(let i = 0; i < searchServiceBtnList.length; i++) {
						if(searchServiceBtnList[i].className.includes('btn-success')) {
							tempService += searchServiceBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempService = tempService.substring(0, tempService.length-1);
					searchConditionObj.service = tempService;
					
					// == 공동간병 검색 조건을 저장 ==
					let tempShare = '';
					for(let i = 0; i < searchShareBtnList.length; i++) {
						if(searchShareBtnList[i].className.includes('btn-success')) {
							tempShare += searchShareBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempShare = tempShare.substring(0, tempShare.length-1);
					searchConditionObj.share = tempShare;
					
					// == 지역 검색 조건을 저장 ==
					let tempArea = '';
					for(let i = 0; i < searchAreaBtnList.length; i++) {
						if(searchAreaBtnList[i].className.includes('btn-success')) {
							tempArea = searchAreaBtnList[i].innerText;
							searchExist = true;
						}
					}
					searchConditionObj.area = tempArea;
					
					// == 성별 검색 조건을 저장 ==
					let tempGender = '';
					for(let i = 0; i < searchGenderBtnList.length; i++) {
						if(searchGenderBtnList[i].className.includes('btn-success')) {
							tempGender += searchGenderBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempGender = tempGender.substring(0, tempGender.length-1);
					searchConditionObj.gender = tempGender;
					
					// == 연령 검색 조건을 저장 ==
					let tempAge = '';
					for(let i = 0; i < searchAgeBtnList.length; i++) {
						if(searchAgeBtnList[i].className.includes('btn-success')) {
							tempAge += searchAgeBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempAge = tempAge.substring(0, tempAge.length-1);
					searchConditionObj.age = tempAge;
					
					// == 질환 검색 조건을 저장 == 
					let tempDisease = '';
					for(let i = 0; i < searchDisBtnList.length; i++) {
						if(searchDisBtnList[i].className.includes('btn-success')) {
							tempDisease += searchDisBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempDisease = tempDisease.substring(0, tempDisease.length-1);
					searchConditionObj.disease = tempDisease;
					
					// == 중증도 검색 조건을 저장 ==
					let tempLevel = '';
					for(let i = 0; i < searchLevelBtnList.length; i++) {
						if(searchLevelBtnList[i].className.includes('btn-success')) {
							tempLevel += searchLevelBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempLevel = tempLevel.substring(0, tempLevel.length-1);
					searchConditionObj.level = tempLevel;
					
					// == 거동여부 검색 조건을 저장 ==
					let tempWalk = '';
					for(let i = 0; i < searchWalkBtnList.length; i++) {
						if(searchWalkBtnList[i].className.includes('btn-success')) {
							tempWalk += searchWalkBtnList[i].innerText + '/';
							searchExist = true;
						}
					}
					tempWalk = tempWalk.substring(0, tempWalk.length-1);
					searchConditionObj.walk = tempWalk;
						
					// == 돌봄비 검색 조건을 저장 ==	
					let tempCost = '';
					for(let i = 0; i < searchCostBtnList.length; i++) {
						if(searchCostBtnList[i].className.includes('btn-success')) {
							tempCost = searchCostBtnList[i].innerText;
							searchExist = true;
						}
					}
					searchConditionObj.cost = tempCost;	
						
					// == 간병기간 검색 조건을 저장 ==	
					let tempTerm = '';
					for(let i = 0; i < searchTermBtnList.length; i++) {
						if(searchTermBtnList[i].className.includes('btn-success')) {
							tempTerm = searchTermBtnList[i].innerText;
							searchExist = true;
						}
					}
					searchConditionObj.term = tempTerm;		
					// *** 검색 조건 저장하기 (끝) ***	
					
					// *** 비동기 방식으로 검색결과 요청하기 (시작)***
					if(searchExist) { // 검색 조건이 하나라도 있을 때를 의미함
						ajaxSearchPage = 1;
						root.innerHTML = ''; // 기존의 목록출력을 모두 지운다.
						searchAjax(ajaxSearchPage); // 새로운 목록을 불러온다.
					} else { // 검색 조건이 하나도 없을 때를 의미함
						ajaxNoSearchPage = 1;
						root.innerHTML = ''; // 기존의 목록출력을 모두 지운다.
						noSearchAjax(ajaxNoSearchPage);
					}
					// *** 비동기 방식으로 검색결과 요청하기 (끝) ***
					
					// 전체 태그 출력하는 모달창 닫기 (시작)
					$('#allTagModal').modal('hide');
					// 전체 태그 출력하는 모달창 닫기 (끝)
				})
			}
			// 태그 조건으로 검색하기 (끝)
			
			// 목록요청용 페이지 변수 선언
			let ajaxSearchPage = 1; 
			let ajaxNoSearchPage = 1;
			let searchFlag = false;
			
			
			// *** 비동기 방식으로 검색결과 요청하는 ajx함수 정의 (시작) ***
			let searchAjax = (page) => {
				$.ajax({
					url: 'searchPatientList.me?page='+page,
					type: 'post',
					data : {condition : JSON.stringify(searchConditionObj)},
					success: data => {
						console.log(data);
						if(data != 'noExist'){
							let matList = data.matList;
							let memList = data.memList;
							let mpiList = data.mpiList;
							let matNo = '';
							for(let mat of matList){
								for(let mpi of mpiList) {
									if(mat.matNo == mpi.matNo){
										for(let mem of memList){
											if(mat.matNo == mem.matNo) {
												let gender = mem.ptGender == 'M' ? '남성' : '여성';
												let address = mpi.matAddressInfo.split(' ')[0] + ' ' + mpi.matAddressInfo.split(' ')[1];
												if(mpi.service == '가정돌봄' && mat.ptCount == 1){ // 가정, 개인
													//console.log(mat.matNo);
													root.innerHTML += `<div class="col-sm-6">\
												            				<div class="card h-95 w-80">\
												    							<div class="card-body text-center">\
												        						<h6 class="card-title">\
												            						<span>${mem.ptName}</span>&nbsp;&nbsp;\
												            						<img src="image/icon/home.png"/>\
												            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
												       							</h6>\
															                    <p class="card-text">\
															                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
															                    	<span>${gender}</span>&nbsp;&nbsp;\
															                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
															                    	<span>${address}</span>\
															                   	</p>\
															                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
															                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
														                		</div>\
												   							</div>\
																		</div>`;
																		break;
												} else if(mpi.service == '병원돌봄' && mat.ptCount == 1){ // 병원돌봄, 개인
													console.log(mat.matNo);
													root.innerHTML += `<div class="col-sm-6">\
							            				<div class="card h-95 w-80">\
							    							<div class="card-body text-center">\
							        						<h6 class="card-title">\
							            						<span>${mem.ptName}</span>&nbsp;&nbsp;\
							            						<img src="image/icon/hospital.png"/>\
							            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
							       							</h6>\
										                    <p class="card-text">\
										                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
										                    	<span>${gender}</span>&nbsp;&nbsp;\
										                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
										                    	<span>${mpi.hospitalName}</span>\
										                   	</p>\
										                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
										                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
									                		</div>\
							   							</div>\
													</div>`;
													break;
												} else if(mat.ptCount >= 2 && mem.groupLeader =='Y'){//공동간병
													console.log(mat.matNo);
													let leaderName = mem.ptName;
													root.innerHTML += `<div class="col-sm-6">\
							            				<div class="card h-95 w-80">\
							    							<div class="card-body text-center">\
							        						<h6 class="card-title">\
							            						<span>${leaderName} 외</span>&nbsp;&nbsp;\
							            						<img src="image/icon/users.png"/>\
							            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
							       							</h6>\
										                    <p class="card-text">\
										                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
										                    	<span>${gender}</span>&nbsp;&nbsp;\
										                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
										                    	<span>${mpi.hospitalName}</span>\
										                   	</p>\
										                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
										                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
									                		</div>\
							   							</div>\
													</div>`;
													break;
												}
											}
											
										}
									break;
									}
									
								}
							}
							//ajaxNoSearchPage++;
							ajaxSearchPage++;
							searchFlag = true;
						} else {
							console.log('목록 끝');
						}
					},
					error: data => {
						console.log('error');
					}
				})
			}
			// *** 비동기 방식으로 검색결과 요청하는 ajax함수 정의 (끝) ***
			
			
			// *** 비동기 방식으로 임의결과 요청하는 ajax함수 정의 (시작) ***
			let noSearchAjax = (page) => {
				$.ajax({
					url: 'workAllInfo.me?page='+page,
					type: 'post',
					/*<![CDATA[*/
					data : {memberNo: /*[[${session.loginUser.memberNo}]]*/0},
					/*]]>*/
					success: data => {
						console.log(data);
						if(data != 'noExist'){
							let matList = data.matList;
							let memList = data.memList;
							let mpiList = data.mpiList;
							//console.log(data.pList);
							let matNo = '';
							for(let mat of matList){
								for(let mpi of mpiList) {
									if(mat.matNo == mpi.matNo){
										for(let mem of memList){
											if(mat.matNo == mem.matNo) {
												let gender = mem.ptGender == 'M' ? '남성' : '여성';
												let address = mpi.matAddressInfo.split(' ')[0] + ' ' + mpi.matAddressInfo.split(' ')[1];
												if(mpi.service == '가정돌봄' && mat.ptCount == 1){ // 가정, 개인
													console.log(mat.matNo);
													root.innerHTML += `<div class="col-sm-6">\
												            				<div class="card h-95 w-80">\
												    							<div class="card-body text-center">\
												        						<h6 class="card-title">\
												            						<span>${mem.ptName}</span>&nbsp;&nbsp;\
												            						<img src="image/icon/home.png"/>\
												            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
												       							</h6>\
															                    <p class="card-text">\
															                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
															                    	<span>${gender}</span>&nbsp;&nbsp;\
															                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
															                    	<span>${address}</span>\
															                   	</p>\
															                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
															                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
														                		</div>\
												   							</div>\
																		</div>`;
																		break;
												} else if(mpi.service == '병원돌봄' && mat.ptCount == 1){ // 병원돌봄, 개인
													console.log(mat.matNo);
													root.innerHTML += `<div class="col-sm-6">\
							            				<div class="card h-95 w-80">\
							    							<div class="card-body text-center">\
							        						<h6 class="card-title">\
							            						<span>${mem.ptName}</span>&nbsp;&nbsp;\
							            						<img src="image/icon/hospital.png"/>\
							            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
							       							</h6>\
										                    <p class="card-text">\
										                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
										                    	<span>${gender}</span>&nbsp;&nbsp;\
										                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
										                    	<span>${mpi.hospitalName}</span>\
										                   	</p>\
										                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
										                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
									                		</div>\
							   							</div>\
													</div>`;
													break;
												} else if(mat.ptCount >= 2 && mem.groupLeader =='Y'){//공동간병
													console.log(mat.matNo);
													let leaderName = mem.ptName;
													root.innerHTML += `<div class="col-sm-6">\
							            				<div class="card h-95 w-80">\
							    							<div class="card-body text-center">\
							        						<h6 class="card-title">\
							            						<span>${leaderName} 외</span>&nbsp;&nbsp;\
							            						<img src="image/icon/users.png"/>\
							            						<span class="badge rounded-pill bg-light text-dark fs-6">${mpi.service}</span>&nbsp;&nbsp;\
							       							</h6>\
										                    <p class="card-text">\
										                    	<span>${mat.beginDt} ~ ${mat.endDt}</span><br/>\
										                    	<span>${gender}</span>&nbsp;&nbsp;\
										                    	<span>${mem.ptRealAge < 0 ? mem.ptRealAge+100 : mem.ptRealAge}세</span><br/>\
										                    	<span>${mpi.hospitalName}</span>\
										                   	</p>\
										                   	<input type="hidden" name="matNo" value=${mat.matNo}/>\
										                   	<button class="btn btn-success workInfo" onclick="location.href='goCaregiverPtInfo.mc?matNo='+${mat.matNo}">정보 보기</button>\
									                		</div>\
							   							</div>\
													</div>`;
													break;
												}
											}
											
										}
									break;
									}
									
								}
							}
							ajaxNoSearchPage++;
							searchFlag = false;
						} else {
							console.log('목록 끝');
						}
					},
					error: data => {
						console.log('error');
					}
				})
			}
			
			// 화면 처음로드시에 띄울 임의 검색결과 목록
			noSearchAjax(ajaxNoSearchPage);
			
			// 검색조건 초기화하기
			document.querySelector('#goClear').addEventListener('click', () => {
				for(let sub of allSubBtnList) {
					if(sub.className.includes('btn-success')) {
						sub.classList.remove('btn-success');
						sub.classList.add('btn-light');
					}
				}
				for(let sub of allSearchBtnList) {
					if(sub.className.includes('btn-success')) {
						sub.classList.remove('btn-success');
						sub.classList.add('btn-light');
					}
				}
			
			
			})
			
			// 일감목록 검색 결과를 출력하는 무한스크롤 (시작)
			const callback = (entries, observer) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						if(searchFlag == false) {
							noSearchAjax(ajaxNoSearchPage);
						} else {
							searchAjax(ajaxSearchPage);
						}
					}
				});
			}

			const observer = new IntersectionObserver(callback);
			const targetDiv = document.querySelector('#obsTarget');
			observer.observe(targetDiv);
			// 일감목록 검색 결과를 출력하는 무한스크롤 (끝)
			
			// 태그 전체 모달창 출력
			document.querySelector('#allTagBtn').addEventListener('click', () => {
				$('#allTagModal').modal('show');
			})
			
			
			
			// 자동추천 새로고침 비동기 요청 (시작)
    		const refreshChoice = document.querySelector('#refreshChoice');
    		refreshChoice.addEventListener('mouseenter', function() {
    			this.style.cursor= 'pointer';
    		})
    		/*<![CDATA[*/
    		refreshChoice.addEventListener('click', function() {
    			if(/*[[${completeList}]]*/'arrList' != null) {
    				const tbody = this.parentElement.parentElement.parentElement.nextElementSibling;
    				const tbodyList = document.querySelectorAll('.autoMatching tbody');
    				
    				$.ajax({
	    				url: 'refreshPatientChoice.me',
	    				data: {memberNo : /*[[${session.loginUser.memberNo}]]*/0, selectNum: 10},
	    				success: data => { // 배열로 넘어옴
	    					// 새로 추천받은 목록으로 교체(시작)
	    					console.log(data);
	    					tbodyList[0].innerHTML = '';
	    					tbodyList[1].innerHTML = '';
	    					for(let i = 0; i < data.length; i++) {
	    						let d = data[i];
	    						
	    						if(i < 5) {
	    							const tr = document.createElement('tr');
		    						tr.classList.add('text-center');
		    						const td0 = document.createElement('td');
		    						td0.innerHTML = `<input type="hidden" value=${d.matNo}>${d.ptName}`;
		    						//td0.innerText = d.ptName;
		    						const td1 = document.createElement('td');
		    						td1.innerText = d.ptGender == 'M' ? '남' : '여';
		    						const td2 = document.createElement('td');
		    						td2.innerText = d.ptRealAge;
		    						const td3 = document.createElement('td');
		    						td3.innerText = d.ptAddress;
		    						const td4 = document.createElement('td');
		    						
		    						if(d.ptDisease != undefined){
			    						td4.innerText = d.ptDisease.split('/')[0];
		    						} else {
		    							td4.innerText = '-';
		    						}
		    						
		    						const td5 = document.createElement('td');
		    						td5.innerText = d.money + '원';
		    						
		    						tbodyList[0].appendChild(tr);
		    						tr.appendChild(td0);
		    						tr.appendChild(td1);
		    						tr.appendChild(td2);
		    						tr.appendChild(td3);
		    						tr.appendChild(td4);
		    						tr.appendChild(td5);	
	    						} else {
	    							const tr = document.createElement('tr');
		    						tr.classList.add('text-center');
		    						const td0 = document.createElement('td');
		    						td0.innerHTML = `<input type="hidden" value=${d.matNo}>${d.ptName}`;
		    						//td0.innerText = d.ptName;
		    						const td1 = document.createElement('td');
		    						td1.innerText = d.ptGender == 'M' ? '남' : '여';
		    						const td2 = document.createElement('td');
		    						td2.innerText = d.ptRealAge;
		    						const td3 = document.createElement('td');
		    						td3.innerText = d.ptAddress;
		    						const td4 = document.createElement('td');
		    						if(d.ptDisease != undefined){
			    						td4.innerText = d.ptDisease.split('/')[0];
		    						} else {
		    							td4.innerText = '-';
		    						}
		    						const td5 = document.createElement('td');
		    						td5.innerText = d.money + '원';
		    						
		    						tbodyList[1].appendChild(tr);
		    						tr.appendChild(td0);
		    						tr.appendChild(td1);
		    						tr.appendChild(td2);
		    						tr.appendChild(td3);
		    						tr.appendChild(td4);
		    						tr.appendChild(td5);
	    						}
	    						
	    						// 새로 추천받은 목록으로 교체(끝)
	    					}
	    					alert('새고운 추천목록으로 갱신되었습니다.');
	    				},
	    				error: data => {
	    					console.log('에러')
	    				}
	    			})
    			} else {
    				alert('추천 후보가 존재하지 않습니다.');
    			}
    		})
			/*]]>*/
    		// 자동추천 새로고침 비동기 요청 (끝)
			
			// ai추천 목록에 대한 이벤트 (시작)
			const tableList = document.querySelectorAll('.autoMatching');
			for(const table of tableList){
				table.children[1].addEventListener('click', function(e) {
					location.href='goCaregiverPtInfo.mc?matNo=' + e.target.parentElement.children[0].children[0].value;
				});
				console.log(table.children[1]);
				table.children[1].addEventListener('mouseover', function() {
					//console.log('마우스오버');
					this.style.cursor = 'pointer';
				});
			}
			// ai추천 목록에 대한 이벤트 (끝)
			
		}
	</script>
</body>
</html>